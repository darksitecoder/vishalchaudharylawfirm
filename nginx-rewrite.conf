# Nginx server snippet to serve extensionless URLs by trying .html when needed
# Replace `example.com` and `root` with your site values.

server {
    listen 80;
    server_name example.com;
    root /var/www/html; # adjust to your site root

    # Keep blog pages requiring .html (do not try .html for these paths)
    location ~ ^/(blog|blog-post)(/.*)?$ {
        try_files $uri $uri/ =404;
    }

    location / {
        # Try exact file, then directory, then file.html, otherwise 404
        try_files $uri $uri/ $uri.html =404;
    }

    # Serve static assets with caching
    location ~* \.(css|js|png|jpg|jpeg|gif|svg|ico|webp)$ {
        expires 1M;
        add_header Cache-Control "public";
    }
}
